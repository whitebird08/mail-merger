extends layout

block content  

 body
    .grandpa.grandpa-flex
      .grandpa-content
        .parent
          .item
            .mailMergeTitle Mail Merge
          .item empty
        .parent
          //- .item Enter names / emails (one per line):
          //- .item Enter the text.  The following solutions are valid:
          //-   .requirements
          //-     //- ul
          //-     //-   li {first}
          //-     //-   li {last}
          //-     //-   li {email}
  
        form(id='thisForm' class='form' method="post" action='/')
          .parent
            .item Contacts:
              .contacts
                textarea(id='contacts', name='contacts', type='text', placeholder='first, last, email@example.com')
            .item Subject
              .subject
                textarea(id='subject', name='subject', type='text', placeholder='subject')
              .item Message
              .message 
                textarea(id='message', name='message', type='text', placeholder='message') 

              .preview
              input(id ='preview', name='preview', type='submit', value='preview', onclick='myFunction()' )
   
        .parent
          .recipientPreviews 
            .recipient
              if (previewMessage && previewMessage.length)
                p='Emails(' + previewMessage.length + ')'
                for preview in previewMessage
                  p='To: ' + preview.firstName + preview.lastName + ' < ' + preview.email + ' >'
                  p Subject: #{subject}
                  p #{preview.message}
              
     //- fieldset
     //-    legend            
     //-      form(action='/albums/' + theAlbum._id + "/delete", method='post', name='delete')
     //-        button(type='submit') Delete
     // event listener in each version ...pointing to parent/event.target
